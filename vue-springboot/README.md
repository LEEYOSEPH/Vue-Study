# 📌GE SI PAN

---

> Vue.js + SpringBoot 사용해서 제작한 게시판  
> 블로그 : <https://gororingcoding.tistory.com/47/>  
> 깃허브 : <https://github.com/LEEYOSEPH/Vue-Study/tree/master/vue-springboot/>

## 목차

---

1. 제작 기간 & 참여 인원
2. 사용 기술
3. ERD 설계
4. 핵심 기능
5. 트러블 슈팅

## 1. 제작 기간 & 참여 인원

---

- 2021년 8월 2일 ~ 2021년 8월 12 일
- 개인 프로젝트

## 2. 사용 기술

---

> Front-end

- Vue 4.5.13 + Vuex + Vue-router
- Axios
- Webpack
- ionicons(<https://ionic.io/ionicons/>)

> Back-end

- Java 11
- SpringBoot 2.5.2
- MySQL
- MyBatis

## 3. ERD 설계

---

![ERD](https://user-images.githubusercontent.com/68593528/129139395-0dba5eb6-31d3-415d-84f9-7206021ef8bf.png)

## 4. 핵심 기능

---

1. 등록
2. 조회
3. 수정
4. 삭제
5. 기타

### 4-1 등록

- 회원 가입 / 글 작성 / 댓글 작성/ 대댓글 작성
  - v-model을 사용 하여 data와 양방향 통신 했습니다.
  - 필요한 데이터들은 props와 $emit으로 주고 받았습니다.

### 4-2 조회

- 전체 조회 / 특정 조건 조회 / 상세 조회
  - created를 사용하여 페이지 렌더링시 항상 조회데이터를 가져 오게 했습니다.
- 특정 조건(조회수,좋아요 많은 순, 최신)할 때 DB 조건문을 통해서 조회 했습니다.
- 상세 조회는 각 게시글의 고유 번호를 기준으로 조회 했습니다.

### 4-3 삭제

- 게시글 삭제/ 댓글 삭제/ 대댓글 삭제 / 좋아요 취소

  - DB 설계시 제약 조건을 통해서 외래키 등록된 컬럼이 삭제 되면 해당 컬럼도 삭제 하도록 했습니다.
  - 좋아요 취소는 실제 데이터를 삭제 하지 않고 삭제 여부를 판단해서 데이터를 가지고 있습니다. 이런 방식으로 좋아요 카운트를 셀 수 있습니다.

### 4-5 기타

- 로그인 성공 시 로그인 정보를 쿠키에 담고 쿠키값을 Vuex에서 관리 하도록 했습니다. 이 방법을 통해서 로그인 상태를 유지 했습니다.
- 좋아요 카운트를 나타내기 위해 좋아요 버튼을 클릭 하면 null, 0 , 1 세가지 상태로 나누어 관리 했습니다.
- computed를 사용해서 로그인 여부를 판단해 데이터 패턴에 변화를 주었습니다.

## 5. 트러블 슈팅

---

### 1. 새로고침 시 state가 사라지는 문제 (vuex-persistedstate 사용)

- Vue는 SPA이므로 새로고침 했을 때 state에 board 정보등의 데이터가 지워져 여러 오류를 발생 시켰습니다.
- 해결 하기 위해 npm vuex-persistedstate를 사용 했습니다.
- 내용 자세히 보기
  <https://gororingcoding.tistory.com/44/>

### 2. 게시글 조회수 구현 하기

- 게시글 상세페이지를 호출 하면 바로바로 화면에 반응 하도록 하고 싶었습니다.
- 기존의 방식은 게시글 호출 + 게시글 조회수 증가 2번의 로직을 타고 있었습니다.
- 그래서 먼저 게시글 조회수 증가를 하고 성공 하면 게시글 호출 하도록 변경을 통 해 화면에 바로 반응 하도록 했습니다.
- 내용 자세히 보기
  <https://gororingcoding.tistory.com/43/>
